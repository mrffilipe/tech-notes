## ğŸŒ Rede e Dados no Flutter

### ğŸ“Œ VisÃ£o Geral

A maioria dos aplicativos modernos precisa buscar dados de fontes externas (como APIs REST) ou enviar informaÃ§Ãµes a um servidor. Flutter facilita essas operaÃ§Ãµes atravÃ©s de bibliotecas baseadas em Dart para fazer requisiÃ§Ãµes HTTP, processar respostas e atualizar a interface de forma reativa.

---

### ğŸ“¥ ObtenÃ§Ã£o de Dados com `http`

#### ImportaÃ§Ã£o

O pacote mais comum para networking em Flutter Ã© o [`http`](https://pub.dev/packages/http).

```dart
import 'package:http/http.dart' as http;
```

#### Exemplo bÃ¡sico

```dart
Future<http.Response> fetchData() {
  return http.get(Uri.parse('https://jsonplaceholder.typicode.com/posts/1'));
}
```

- A funÃ§Ã£o retorna um `Future` com a resposta.
- `http.get()` realiza uma requisiÃ§Ã£o GET.
- `Uri.parse` Ã© usado para converter a URL em um objeto `Uri`.

#### Tratamento de resposta

```dart
if (response.statusCode == 200) {
  var data = jsonDecode(response.body);
  // Use os dados...
} else {
  throw Exception('Erro ao carregar dados');
}
```

---

### ğŸ“¦ Parsing de JSON

Como as respostas normalmente vÃªm em formato JSON, vocÃª pode usar `dart:convert`:

```dart
import 'dart:convert';

final data = jsonDecode(response.body);
```

Para modelos personalizados, Ã© recomendÃ¡vel criar classes com mÃ©todos `fromJson()` e `toJson()`.

---

### ğŸ“¡ RequisiÃ§Ãµes POST

VocÃª tambÃ©m pode enviar dados com `http.post()`:

```dart
var response = await http.post(
  Uri.parse('https://api.exemplo.com/login'),
  headers: {'Content-Type': 'application/json'},
  body: jsonEncode({'email': 'user@example.com', 'senha': '1234'}),
);
```

---

### ğŸ”„ Atualizando a UI com Dados da Web

Use `FutureBuilder` para lidar com a exibiÃ§Ã£o de dados assÃ­ncronos na interface:

```dart
FutureBuilder<http.Response>(
  future: fetchData(),
  builder: (context, snapshot) {
    if (snapshot.hasData) {
      return Text(snapshot.data!.body);
    } else if (snapshot.hasError) {
      return Text('Erro: ${snapshot.error}');
    }
    return CircularProgressIndicator();
  },
)
```

---

### ğŸ” SeguranÃ§a e PrÃ¡ticas Recomendadas

- Sempre **valide a resposta** (status code, formato de dados).
- Use **HTTPS** sempre que possÃ­vel.
- Para apps que exigem autenticaÃ§Ã£o, **gerencie tokens de forma segura**.
- Considere usar bibliotecas como `dio` para funcionalidades avanÃ§adas (interceptores, cancelamento, retry).

---

### âœ… Dicas de Boas PrÃ¡ticas

- **Centralize suas chamadas de rede** em classes ou serviÃ§os (`ApiService`).
- **Crie modelos de dados fortemente tipados** para facilitar o uso e teste.
- **Use `FutureBuilder` ou `Riverpod` para controlar o carregamento e atualizaÃ§Ã£o de dados**.
- **Evite lÃ³gica de rede diretamente na UI** â€“ mantenha responsabilidades separadas.